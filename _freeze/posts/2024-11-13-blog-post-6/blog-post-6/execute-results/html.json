{
  "hash": "fd141d957c243d623a5826441dadabe4",
  "result": {
    "engine": "knitr",
    "markdown": "---\ntitle: \"blog post 6\"\nauthor: \"Sean Fung, Zihao Guo\"\ndate: \"2024-11-13\"\ndate-modified: \"2024-11-13\"\ndraft: FALSE\n---\n\n::: {.cell}\n::: {.cell-output .cell-output-stderr}\n\n```\n── Attaching core tidyverse packages ──────────────────────── tidyverse 2.0.0 ──\n✔ dplyr     1.1.4     ✔ readr     2.1.5\n✔ forcats   1.0.0     ✔ stringr   1.5.1\n✔ ggplot2   3.5.1     ✔ tibble    3.2.1\n✔ lubridate 1.9.3     ✔ tidyr     1.3.1\n✔ purrr     1.0.2     \n── Conflicts ────────────────────────────────────────── tidyverse_conflicts() ──\n✖ dplyr::filter() masks stats::filter()\n✖ dplyr::lag()    masks stats::lag()\nℹ Use the conflicted package (<http://conflicted.r-lib.org/>) to force all conflicts to become errors\nLinking to GEOS 3.11.0, GDAL 3.5.3, PROJ 9.1.0; sf_use_s2() is TRUE\n\nhere() starts at /Users/zzzhao/Desktop/MA415/ma-4615-fa24-final-project-group-4\n\nLoading required package: viridisLite\n\nGetting data from the 2016-2020 5-year ACS\n\nDownloading feature geometry from the Census website.  To cache shapefiles for use in future sessions, set `options(tigris_use_cache = TRUE)`.\n```\n\n\n:::\n:::\n\n\n# Crime V Median Income\n\n\n::: {.cell}\n::: {.cell-output .cell-output-stderr}\n\n```\n`geom_smooth()` using formula = 'y ~ x'\n```\n\n\n:::\n\n::: {.cell-output-display}\n![](blog-post-6_files/figure-html/Crime V Median Income Plot-1.png){width=672}\n:::\n:::\n\n\n\n# Economic Heatmap (Without Crime Data)\n\n\n\n::: {.cell}\n::: {.cell-output-display}\n![](blog-post-6_files/figure-html/Income heat map (see bp5)-1.png){width=672}\n:::\n:::\n\n\n\n# Plot: Combined Map with Income and Crime Data -- Black Dots (Crime Locations) on Economic Data Heatmap\n\n\n::: {.cell}\n::: {.cell-output-display}\n![](blog-post-6_files/figure-html/Heatmap with crime data-1.png){width=672}\n:::\n:::\n\n\n\n# Linear Model\n\n\n::: {.cell}\n::: {.cell-output .cell-output-stdout}\n\n```\n\nCall:\nlm(formula = total_crimes ~ avg_income, data = crime_summary)\n\nResiduals:\n    Min      1Q  Median      3Q     Max \n-176.87  -67.39  -32.79   53.52  303.41 \n\nCoefficients:\n              Estimate Std. Error t value Pr(>|t|)    \n(Intercept)  6.327e+02  9.326e+01   6.784 1.77e-06 ***\navg_income  -5.108e-04  1.279e-03  -0.399    0.694    \n---\nSignif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1\n\nResidual standard error: 122.2 on 19 degrees of freedom\nMultiple R-squared:  0.008328,\tAdjusted R-squared:  -0.04386 \nF-statistic: 0.1596 on 1 and 19 DF,  p-value: 0.694\n```\n\n\n:::\n:::\n\n\nBased on the above models, we need to be looking at the certain areas with crime data as the LAPD seems to be concentrated in the multiple districts in the Southwest. Try to adjust for bias. \n\n## Crime in each neighborhood\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Define broader crime categories based on `Crm.Cd.Desc`\ncrime_with_neighborhoods <- crime_with_neighborhoods %>%\n  mutate(Crime_Category = case_when(\n    str_detect(Crm.Cd.Desc, \"BURGLARY|THEFT|VANDALISM|EMBEZZLEMENT|FORGERY|SHOPLIFTING\") ~ \"Property Crime\",\n    str_detect(Crm.Cd.Desc, \"ASSAULT|ROBBERY|HOMICIDE|KIDNAPPING|SEXUAL ASSAULT\") ~ \"Violent Crime\",\n    str_detect(Crm.Cd.Desc, \"DRUG\") ~ \"Drug Offense\",\n    str_detect(Crm.Cd.Desc, \"TRAFFIC|DRIVING|DUI|FAILURE TO YIELD\") ~ \"Traffic Violation\",\n    TRUE ~ \"Other\"\n  ))\ncrime_summary <- crime_with_neighborhoods %>%\n  group_by(AREA.NAME, Crime_Category) %>%\n  summarize(total_crimes = n(), .groups = \"drop\")\nggplot(crime_summary, aes(x = reorder(AREA.NAME, total_crimes), y = total_crimes, fill = Crime_Category)) +\n  geom_bar(stat = \"identity\", position = \"dodge\") +\n  labs(\n    title = \"Crime Categories by Neighborhood\",\n    x = \"Neighborhood\",\n    y = \"Total Crimes\",\n    fill = \"Crime Category\"\n  ) +\n  theme_minimal() +\n  theme(axis.text.x = element_text(angle = 90, hjust = 1))\n```\n\n::: {.cell-output-display}\n![](blog-post-6_files/figure-html/unnamed-chunk-1-1.png){width=672}\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nggplot(crime_summary, aes(x = reorder(AREA.NAME, total_crimes), y = total_crimes, fill = Crime_Category)) +\n  geom_bar(stat = \"identity\", position = \"fill\") +\n  labs(\n    title = \"Proportion of Crime Categories by Neighborhood\",\n    x = \"Neighborhood\",\n    y = \"Proportion\",\n    fill = \"Crime Category\"\n  ) +\n  theme_minimal() +\n  theme(axis.text.x = element_text(angle = 90, hjust = 1))\n```\n\n::: {.cell-output-display}\n![](blog-post-6_files/figure-html/unnamed-chunk-2-1.png){width=672}\n:::\n:::\n\n\nThese graphs tell a compelling story about crime patterns in neighborhoods. Property crimes are a widespread issue, while violent crimes are relatively localized. Hollywood and similar areas show distinctive crime patterns, suggesting localized factors influencing crime dynamics.The 77th Street neighborhood stands out in both graphs due to the almost equal distribution of Property Crime and Other Crime categories. This is unusual compared to most neighborhoods where Property Crime significantly dominates.",
    "supporting": [
      "blog-post-6_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}