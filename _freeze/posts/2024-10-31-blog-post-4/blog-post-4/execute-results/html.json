{
  "hash": "578ec8e8ac15dc7029d72248e03c4e28",
  "result": {
    "engine": "knitr",
    "markdown": "---\ntitle: \"blog post 4\"\nauthor: \"\"\ndate: \"2024-10-31\"\ndate-modified: \"2024-10-31\"\ndraft: FALSE\n---\n\n::: {.cell}\n\n```{.r .cell-code}\ndata <- readRDS(\"filtered_data_2.rds\")\n\n# Save it as a CSV file\nwrite.csv(data, \"your_file.csv\", row.names = FALSE)\n```\n:::\n\n\nUsed this to view data in excel file for easier visibility and filtering. \n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(ggplot2)\nlibrary(here)\n```\n\n::: {.cell-output .cell-output-stderr}\n\n```\nhere() starts at /Users/seanfung/Documents/BU Fall 2024/MA 415/MA 415 G4 Final Project\n```\n\n\n:::\n\n```{.r .cell-code}\ndata <- readRDS(here(\"filtered_data_2.rds\"))\n\nfiltered_data <- subset(data, Descent_Description != \"Unknown\" & Descent_Description != \"Other\")\n\n# Create a contingency table for the filtered data\ncrime_table_filtered <- table(filtered_data$Descent_Description, filtered_data$Crm.Cd.Desc)\n\nchi_test_filtered <- chisq.test(crime_table_filtered)\n```\n\n::: {.cell-output .cell-output-stderr}\n\n```\nWarning in chisq.test(crime_table_filtered): Chi-squared approximation may be\nincorrect\n```\n\n\n:::\n\n```{.r .cell-code}\nprint(chi_test_filtered)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n\n\tPearson's Chi-squared test\n\ndata:  crime_table_filtered\nX-squared = 2363.8, df = 1222, p-value < 2.2e-16\n```\n\n\n:::\n\n```{.r .cell-code}\n# Extract standardized residuals\nstandardized_residuals_filtered <- chi_test_filtered$stdres\n\ntop_crimes <- names(sort(colSums(crime_table_filtered), decreasing = TRUE))[1:20]\n\n# Filter the contingency table to only include top crime types\ncrime_table_top <- crime_table_filtered[, top_crimes]\n\nchi_test_top <- chisq.test(crime_table_top)\n```\n\n::: {.cell-output .cell-output-stderr}\n\n```\nWarning in chisq.test(crime_table_top): Chi-squared approximation may be\nincorrect\n```\n\n\n:::\n\n```{.r .cell-code}\nstandardized_residuals_top <- chi_test_top$stdres\n\n\nresiduals_top_df <- as.data.frame(as.table(standardized_residuals_top))\ncolnames(residuals_top_df) <- c(\"Descent\", \"Crime_Type\", \"Residual\")\n\n\n\nggplot(residuals_top_df, aes(x = Crime_Type, y = Descent, fill = Residual)) +\n  geom_tile() +\n  scale_fill_gradient2(low = \"blue\", mid = \"white\", high = \"red\", midpoint = 0) +\n  labs(title = \"Standardized Residuals of Descent and Top Crime Types\",\n       x = \"Crime Type\", y = \"Descent Category\", fill = \"Residual\") +\n  theme(axis.text.x = element_text(angle = 45, hjust = 1))\n```\n\n::: {.cell-output-display}\n![](blog-post-4_files/figure-html/unnamed-chunk-2-1.png){width=672}\n:::\n:::\n\n\n\nI wanted to ask the question of whether every crime was correlated to descent. Therefore, I conducted a chi-squared test and wanted to see how each race's residual was in comparison to the top 10 crimes (all crimes would be too much). \n- We can see that \"White\" had a high residual in the burglary category and higher residuals in some other categories as well. We also see lower than average residuals in the aggrevated assault and simple assault categories. \n- As for Hispanic/Mexican, even though they represent such a high amount of crimes (as seen in last blog post), they are moderately around what is expected with the exception of the \"Burglary\" and \"Theft (under $950) categories.\n- Other Asian slightly higher in \"Burglary\"\n- \"Black\" lower in \"theft from motor vehicle\". \n- \"Filipino\" higher in \"theft from motor vehicle\". \n- \"Chinese\" higher in \"theft - grand except guns or livestock\". \n- Everything else is mostly the same hovering around the expected with small fluctuations.\n\n\n\n\n\n\n\n",
    "supporting": [
      "blog-post-4_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}